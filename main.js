(()=>{"use strict";var n={208:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,'/* Reset CSS */\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n\n/* root color */\n:root {\n  --main-bg-color: #f1f5f9;\n  --close-to-white: #f8fafc;\n  --grey: #9ca3af;\n  --light-grey: #e5e7eb;\n}\n\n/* container */\n.container {\n  height: 100vh;\n  width: 100vw;\n  font-size: 32px;\n  background-color: var(--main-bg-color);\n}\n\n/* header */\nheader {\n  width: 75vw;\n  height: 10vh;\n  margin: auto;\n  display: grid;\n  grid-template:\n    [row1-start] "logo gameStatus" 1.5fr[row1-end]\n    / 40% 60%;\n  padding: 0px 12.5vw;\n}\n\nheader:hover {\n  box-shadow: 0px 5px 10px rgb(0, 0, 0, 0.3);\n  background-color: var(--close-to-white);\n}\n\n.logo,\n.gameStatus {\n  display: flex;\n  align-items: center;\n}\n\n.logo {\n  font-size: 1.5em;\n  grid-area: logo;\n  font-weight: bold;\n}\n\n.gameStatus {\n  grid-area: gameStatus;\n  font-size: 0.9em;\n}\n\n.gameStatus > p {\n  height: 5vh;\n  width: 100%;\n  background-color: var(--light-grey);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n/* main */\nmain {\n  padding-top: 50px;\n  width: 80vw;\n  height: 70vh;\n  margin: auto;\n  display: grid;\n  grid-template:\n    [row1-start] "player1Board player2Board" 1fr[row1-end]\n    [row1-start] "importantButtons importantButtons" 10vh[row1-end]\n    / 1fr 1fr;\n  column-gap: 5vw;\n}\n\n.importantButtons {\n  display: flex;\n  align-items: center;\n}\n\n.restart {\n  font-size: 0.8em;\n  padding: 10px 20px;\n  background-color: rgb(255, 0, 0, 0.4);\n  color: black;\n}\n\n.restart:hover {\n  background-color: rgb(255, 0, 0, 0.8);\n  box-shadow: 10px 10px 20px rgb(255, 0, 0, 0.6);\n  color: var(--close-to-white);\n}\n\n.gridBtn {\n  font-size: 24px;\n  border: none;\n  background-color: var(--light-grey);\n  color: black;\n  font-weight: bold;\n  border: 1px solid black;\n}\n\n.player1Board,\n.player2Board {\n  display: grid;\n  grid-template-rows: repeat(10, minmax(10px, 1fr));\n  grid-template-columns: repeat(10, minmax(10px, 1fr));\n}\n\n.player1Board {\n  grid-area: player1Board;\n}\n\n.player2Board {\n  grid-area: player2Board;\n}\n\n.importantButtons {\n  grid-area: importantButtons;\n}\n\n.gridBtn {\n  font-size: 1em;\n  font-weight: bolder;\n}\n\n/* footer */\nfooter {\n  width: 100%;\n  height: 10vh;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--grey);\n  font-size: 0.8em;\n}\n',""]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var l=n[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=t(u),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=a(m,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var l=r(n,a),c=0;c<o.length;c++){var d=t(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),i=t.n(o),s=t(659),l=t.n(s),c=t(56),d=t.n(c),u=t(540),p=t.n(u),m=t(113),f=t.n(m),h=t(208),y={};y.styleTagTransform=f(),y.setAttributes=d(),y.insert=l().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=p(),a()(h.A,y),h.A&&h.A.locals&&h.A.locals;const g=(n,e)=>n.some((n=>n.length===e.length&&n.every(((n,t)=>n===e[t])))),v=(n=10,e=0)=>Math.floor(Math.random()*(n-e))+e,b=n=>{const e=[];return n.forEach(((n,t)=>{n.forEach(((n,r)=>{"object"!=typeof n&&e.push([t,r])}))})),e},C=(n,e="y")=>{if(n>10)throw new Error("length must not be greater than grid size");let t=((n,e,t="y")=>{const r=[];let[a,o]=n;for(let n=0;n<e;n++){if(!(a>=0&&a<10&&o>=0&&o<10))return!1;r.push([a,o]),"x"===t?o++:a++}return r})([v(10),v(10)],n,e);return!1!==t?t:C(n,e)};function x(n,e,t,r=C(e,t)){return r=function(n,e){for(let t of n)if(g(e,t))return w(n.length,e);return n}(r,n),r}function w(n,e){const t=C(n);return t.some((n=>g(e,n)))?w(n,e):t}const S=n=>{const e={isDuplicate:!1,isHit:!1};return"Attack again! already attacked grid"===n?e.isDuplicate=!0:"hit attack"===n&&(e.isHit=!0),{isDuplicate:e.isDuplicate,isHit:e.isHit}},k=(n,e)=>{n.innerHTML="",e.forEach(((e,t)=>{e.forEach(((e,r)=>{const a=document.createElement("button");a.classList.add("gridBtn"),a.dataset.row=t,a.dataset.column=r;let o=(n=>{let e="";return"hit attack"===n&&(e="X"),"empty attack"===n&&(e="."),e})(e);a.textContent=o,n.appendChild(a)}))}))},B=(n=[])=>{const e=[v(10),v(10)];return g(n,e)?B(n):e},j=({turn:n,player2Obj:e,player1Obj:t,statusObj:r,gameStatusDiv:a,player2BoardDiv:o,allCoordinatesArray:i=b(e.board),uniqueCoordinates:s=B(i),renderBoard2:l=(()=>k(o,e.board))}={})=>{if(r.currentChance===n.player1)return;const c=S(e.receiveAttack(s));return e.areAllShipsSunk()?(r.someoneWon=!0,a.textContent=`${e.name} won the game`,void l()):(l(),c.isHit?void setTimeout((()=>j({turn:n,player2Obj:e,player1Obj:t,statusObj:r,gameStatusDiv:a,player2BoardDiv:o})),1e3):(r.currentChance=n.player1,void(a.textContent=`${t.name} move...`)))};function O(n){const e=(()=>{let n=[];const e=x(n,5,"y");n=[...n,...e];const t=x(n,4,"x");n=[...n,...t];const r=x(n,3,"y");n=[...n,...r];const a=x(n,2,"y");n=[...n,...a];const o=x(n,1,"x");return n=[...n,...o],{allShipsCoordinates:n,carrierCoordinates:e,battleshipCoordinates:t,cruiserCoordinates:r,submarineCoordinates:a,destroyerCoordinates:o}})();D(n,e.carrierCoordinates.length,e.carrierCoordinates),D(n,e.battleshipCoordinates.length,e.battleshipCoordinates),D(n,e.cruiserCoordinates.length,e.cruiserCoordinates),D(n,e.submarineCoordinates.length,e.submarineCoordinates),D(n,e.destroyerCoordinates.length,e.destroyerCoordinates)}function D(n,e,t){const r=function(n=1){let e=0;return{length:n,hit:()=>e+=1,isSunk:()=>e>=n,getNumOfHit:()=>e}}(e);n.placeShip(r,t)}function A(n=10){const e=[];let t=[];for(let t=0;t<n;t++)e[t]=new Array(n).fill(null);const r=n=>{if(n[0]>=0&&n[0]<10&&n[1]>=0&&n[1]<10)return!0;throw new Error("Coordinates is Out of grid size")},a=n=>{const t=n[0],r=n[1];return e[t][r]},o=n=>{r(n);const e=a(n);return null!==e&&"empty attack"!==e&&"hit attack"!==e};return{board:e,missedCoordinatesArray:t,placeShip:(n,t)=>{t.forEach((t=>{const a=t[0],o=t[1];r([a,o]),e[a][o]=n}))},hasShipAt:o,receiveAttack:n=>{r(n);const i=o(n),s=a(n);return i?(s.hit(),e[n[0]][n[1]]="hit attack","hit attack"):null===e[n[0]][n[1]]?(t.push(n),e[n[0]][n[1]]="empty attack","empty attack"):"Attack again! already attacked grid"},areAllShipsSunk:(e=n)=>{for(let n=0;n<e;n++)for(let t=0;t<e;t++)if(o([n,t]))return!1;return!0},checkAnyAxisOutOfGrid:r,resetBoard:()=>{t=[],e.forEach(((n,t)=>{n.forEach(((n,r)=>{e[t][r]=null}))}))}}}const E=document.querySelector(".player1Board"),T=document.querySelector(".player2Board"),H=document.querySelector(".gameStatus > p"),M=((n="human",e="computer",t=A(),r=A())=>(t.name=n,r.name=e,{player1:t,player2:r}))("goku","vegeta"),P=(({player1Obj:n,player2Obj:e,isPlayer2Computer:t,randomShipPlacement:r=!0,gameStatusDiv:a,player1BoardDiv:o,player2BoardDiv:i}={})=>{const s={player1:"player1",player2:"player2"},l={currentChance:s.player1,someoneWon:!1,isComputerPlaying:t};function c(){((n,e)=>{O(n),O(e)})(n,e)}return o.addEventListener("mousedown",(function(t){(({e:n,turn:e,statusObj:t,player1Obj:r,player2Obj:a,player1BoardDiv:o,player2BoardDiv:i,gameStatusDiv:s,renderBoard1:l=(()=>k(o,r.board)),renderBoard2:c=(()=>k(i,a.board)),playComputer:d=(()=>j({turn:e,player2Obj:a,player1Obj:r,statusObj:t,gameStatusDiv:s,player2BoardDiv:i,renderBoard2:c}))}={})=>{if(t.someoneWon)return;if(t.currentChance===e.player2)return;const u=n.target.dataset.row,p=n.target.dataset.column,m=S(r.receiveAttack([u,p]));m.isDuplicate||(r.areAllShipsSunk()?(t.someoneWon=!0,s.textContent=`${r.name} won the game`,l()):(l(),m.isHit||(t.currentChance=e.player2,s.textContent=`${a.name} move...`,t.isComputerPlaying&&setTimeout(d,1e3))))})({e:t,turn:s,statusObj:l,player1Obj:n,player2Obj:e,player1BoardDiv:o,player2BoardDiv:i,gameStatusDiv:a})})),i.addEventListener("mousedown",(function(t){(({e:n,turn:e,statusObj:t,player1Obj:r,player2Obj:a,player2BoardDiv:o,gameStatusDiv:i,renderBoard2:s=(()=>k(o,a.board))}={})=>{if(t.someoneWon)return;if(t.currentChance===e.player1)return;if(t.isComputerPlaying)return;const l=n.target.dataset.row,c=n.target.dataset.column,d=S(a.receiveAttack([l,c]));if(!d.isDuplicate){if(a.areAllShipsSunk())return t.someoneWon=!0,i.textContent=`${a.name} won the game`,void s();s(),d.isHit||(t.currentChance=e.player1,i.textContent=`${r.name} move...`)}})({e:t,turn:s,statusObj:l,player1Obj:n,player2Obj:e,player2BoardDiv:i,gameStatusDiv:a})})),r&&c(),k(o,n.board),k(i,e.board),a.textContent=`${n.name} move...`,{resetGame:()=>{l.currentChance=s.player1,a.textContent=`${n.name} move...`,l.someoneWon=!1,n.resetBoard(),e.resetBoard(),c(),console.log(n.board),k(o,n.board),k(i,e.board)}}})({player1Obj:M.player1,player2Obj:M.player2,randomShipPlacement:!0,isPlayer2Computer:!0,player1BoardDiv:E,player2BoardDiv:T,gameStatusDiv:H});document.querySelector(".restart").addEventListener("click",P.resetGame)})();